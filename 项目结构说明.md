# 项目结构说明

## 📁 目录结构

```
PythonProject/
├── main.py                    # 主程序文件（核心爬虫代码）
├── requirements.txt           # Python依赖包列表
├── README.md                  # 项目说明文档（使用指南）
├── 项目结构说明.md            # 本文件
├── .gitignore                # Git忽略文件配置
│
├── docs/                      # 技术文档目录
│   ├── 技术文档.md            # 详细技术说明和实现原理
│   └── API文档.md             # API接口和使用文档
│
└── novels/                    # 输出目录（自动创建）
    └── 小说名称.txt           # 下载的小说文件
```

## 📄 文件说明

### 核心文件

#### `main.py`
- **作用**：主程序文件，包含完整的爬虫实现
- **类**：`NovelSpider` - 小说爬虫核心类
- **功能**：
  - 浏览器初始化和管理
  - 小说信息提取
  - 章节列表获取
  - 内容下载和保存

#### `requirements.txt`
- **作用**：Python依赖包列表
- **内容**：
  ```
  beautifulsoup4>=4.11.0
  playwright>=1.30.0
  ```

### 文档文件

#### `README.md`
- **作用**：项目主文档，包含：
  - 项目介绍
  - 快速开始指南
  - 使用说明
  - 常见问题解答

#### `docs/技术文档.md`
- **作用**：详细技术文档，包含：
  - 技术架构说明
  - 核心实现原理
  - 关键技术点解析
  - 扩展开发指南

#### `docs/API文档.md`
- **作用**：API接口文档，包含：
  - 类和方法说明
  - 参数和返回值
  - 使用示例
  - 错误处理

### 配置文件

#### `.gitignore`
- **作用**：Git版本控制忽略文件配置
- **忽略内容**：
  - Python缓存文件
  - 虚拟环境
  - IDE配置
  - 输出文件（novels目录）

## 🎯 使用流程

### 1. 安装依赖
```bash
pip install -r requirements.txt
playwright install chromium
```

### 2. 运行程序
```bash
python main.py
```

### 3. 查看结果
下载的小说保存在 `novels/` 目录

## 📝 代码组织

### 类结构
```
NovelSpider
├── 初始化方法
│   ├── __init__()
│   └── init_browser()
│
├── 主要方法
│   ├── get_novel_info()        # 获取小说信息
│   ├── get_chapter_content()   # 获取章节内容
│   └── save_novel()            # 保存小说
│
└── 私有方法（内部使用）
    ├── _extract_novel_name()
    ├── _wait_for_chapters()
    ├── _extract_chapters()
    ├── _search_chapters_generic()
    └── _cleanup()
```

### 方法职责

| 方法 | 职责 | 可见性 |
|------|------|--------|
| `__init__()` | 初始化爬虫实例 | 公共 |
| `init_browser()` | 初始化浏览器 | 公共 |
| `get_novel_info()` | 获取小说信息（主入口） | 公共 |
| `get_chapter_content()` | 获取单个章节内容 | 公共 |
| `save_novel()` | 保存小说到文件 | 公共 |
| `_extract_novel_name()` | 提取小说名称 | 私有 |
| `_wait_for_chapters()` | 等待章节加载 | 私有 |
| `_extract_chapters()` | 提取章节列表 | 私有 |
| `_search_chapters_generic()` | 通用搜索章节 | 私有 |
| `_cleanup()` | 清理资源 | 私有 |

## 🔧 扩展建议

### 添加新功能

1. **配置文件支持**
   - 创建 `config.json` 或 `config.yaml`
   - 支持自定义选择器、延迟等配置

2. **日志系统**
   - 添加 `logging` 模块
   - 记录下载进度和错误

3. **进度保存**
   - 支持断点续传
   - 保存下载进度

4. **多线程下载**
   - 并发下载多个章节
   - 控制并发数量

### 目录扩展

如果项目需要扩展，建议的目录结构：

```
PythonProject/
├── main.py
├── requirements.txt
├── README.md
├── config.json              # 配置文件（新增）
├── utils/                   # 工具函数（新增）
│   ├── __init__.py
│   ├── logger.py           # 日志工具
│   └── config.py            # 配置管理
├── docs/                    # 文档目录
└── novels/                  # 输出目录
```

## 📊 项目统计

- **代码行数**：约 400+ 行
- **类数量**：1 个主类
- **方法数量**：11 个方法（6个公共，5个私有）
- **依赖包**：2 个（beautifulsoup4, playwright）
- **文档文件**：3 个（README, 技术文档, API文档）

## 🎓 学习路径

1. **入门**：阅读 `README.md`，了解基本使用
2. **理解**：阅读 `docs/技术文档.md`，理解实现原理
3. **开发**：阅读 `docs/API文档.md`，学习如何使用API
4. **实践**：修改 `main.py`，尝试添加新功能

---

**最后更新**：2024年

